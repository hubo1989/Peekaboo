{
  "memories": [],
  "manual_memories": [],
  "realtime_memories": [
    {
      "type": "technical_note",
      "content": "[Fix] Release Build Issues: (1) Never use `EmptyView()` in `Window` type - causes `NSHostingView.updateWindowContentSizeExtremaIfNecessary` constraint crash. Always return fixed-size view like `Color.clear.frame(width:1,height:1)`. (2) `ScreenshotCoordinator.completeCapture()` must reset state to `.idle` directly without Task delay - delayed Task doesn't execute reliably in Release builds.",
      "added_at": "2025-12-30T00:00:00.000000",
      "source": "consolidation"
    },
    {
      "type": "technical_note",
      "content": "[Fix] Screenshot UX & Gestures: (1) Use `.highPriorityGesture()` for `DragGesture` to ensure precedence over `onContinuousHover`. (2) Use `DragGesture(minimumDistance: 1)` instead of 0 to avoid gesture conflicts. (3) Add `.interpolation(.high).antialiased(true)` to Image views for sharp Retina rendering.",
      "added_at": "2025-12-30T00:00:00.000000",
      "source": "consolidation"
    },
    {
      "type": "technical_note",
      "content": "[Fix] AppKit Window Lifecycle: To prevent `EXC_BAD_ACCESS` crashes in `objc_release`: (1) Keep strong reference to windows until after run loop. (2) Release `contentView` first with `window.contentView = nil`. (3) Use `DispatchQueue.main.async` to delay final release. (4) Proper `windowShouldClose`/`windowWillClose` handling with async dispatch for safe teardown.",
      "added_at": "2025-12-30T00:00:00.000000",
      "source": "consolidation"
    },
    {
      "type": "architectural_decision",
      "content": "[Optimization] AI Image Handling: `optimizeImageForAI` resizes (max 2048px) and compresses for AI uploads. Local operations (edit/save/copy) retain full resolution.",
      "added_at": "2025-12-28T00:00:00.000000",
      "source": "consolidation"
    },
    {
      "type": "architectural_decision",
      "content": "[Architecture] Config Sharing: GUI, CLI, and MCP share configuration via `~/.peekaboo/config.json`. GUI's `PeekabooSettings.updateConfigFile()` auto-syncs provider/model changes. API keys stored in `~/.peekaboo/credentials`. Custom providers added via GUI are available to CLI/MCP through `ConfigurationManager`.",
      "added_at": "2025-12-30T00:00:00.000000",
      "source": "consolidation"
    },
    {
      "type": "technical_note",
      "content": "[CLI Installation] Build: `pnpm run build:cli` or `pnpm run build:swift:all`. Install: `sudo ln -sf /path/to/peekaboo /usr/local/bin/peekaboo`. Note: /usr/local/bin may not be in PATH on macOS - add `export PATH=\"/usr/local/bin:$PATH\"` to ~/.zshrc if needed. For Claude Desktop MCP: run `./scripts/install-claude-desktop.sh`.",
      "added_at": "2025-12-30T00:00:00.000000",
      "source": "consolidation"
    },
    {
      "type": "claude_response",
      "content": "我已经在代码库中完成了初步调研。Peekaboo 的 Mac 应用使用 **String Catalog (`Localizable.xcstrings`)** 进行国际化，目前源语言是中文，英语翻译不完整且有很多硬编码的字符串。\n\n以下是我为你整理的各界面主要英文内容及其翻译建议：\n\n### 1. 聊天与智能体控制 (Chat & AI Assistant)\n| 英文内容 | 中文翻译 | 所在",
      "added_at": "2025-12-30T16:51:42.171293",
      "source": "realtime_capture"
    },
    {
      "type": "message",
      "content": "1、修复硬编码：将代码中硬编码的英文改为使用本地化键值 2、提取各个设置页面和inspector更详细的列表 3、自动翻译并应用",
      "added_at": "2025-12-30T16:51:42.171335",
      "source": "realtime_capture"
    }
  ],
  "created_at": "2025-12-26T17:55:00.226590",
  "updated_at": "2025-12-30T16:51:42.171336"
}